!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RouteTool=t():e.RouteTool=t()}(window,(function(){return function(e){var t=window.webpackHotUpdateRouteTool;window.webpackHotUpdateRouteTool=function(e,n){!function(e,t){if(!x[e]||!w[e])return;for(var n in w[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(p[n]=t[n]);0==--y&&0===g&&L()}(e,n),t&&t(e,n)};var n,o=!0,r="e24f44eebaaa5a9ed924",i={},s=[],a=[];function c(e){var t=P[e];if(!t)return C;var o=function(o){return t.hot.active?(P[o]?-1===P[o].parents.indexOf(e)&&P[o].parents.push(e):(s=[e],n=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),s=[]),C(o)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return C[e]},set:function(t){C[e]=t}}};for(var i in C)Object.prototype.hasOwnProperty.call(C,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(o,i,r(i));return o.e=function(e){return"ready"===d&&h("prepare"),g++,C.e(e).then(t,(function(e){throw t(),e}));function t(){g--,"prepare"===d&&(b[e]||M(e),0===g&&0===y&&L())}},o.t=function(e,t){return 1&t&&(e=o(e)),C.t(e,-2&t)},o}function l(t){var o={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(e,t){if(void 0===e)o._selfAccepted=!0;else if("function"==typeof e)o._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)o._acceptedDependencies[e[n]]=t||function(){};else o._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)o._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)o._declinedDependencies[e[t]]=!0;else o._declinedDependencies[e]=!0},dispose:function(e){o._disposeHandlers.push(e)},addDisposeHandler:function(e){o._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=o._disposeHandlers.indexOf(e);t>=0&&o._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,d){case"idle":(p={})[t]=e[t],h("ready");break;case"ready":j(t);break;case"prepare":case"check":case"dispose":case"apply":(m=m||[]).push(t)}},check:N,apply:A,status:function(e){if(!e)return d;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:i[t]};return n=void 0,o}var u=[],d="idle";function h(e){d=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var f,p,v,m,y=0,g=0,b={},w={},x={};function k(e){return+e+""===e?+e:e}function N(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return o=e,h("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,i=C.p+""+r+".hot-update.json";o.open("GET",i,!0),o.timeout=t,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)e();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(o.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return h(E()?"ready":"idle"),null;w={},b={},x=e.c,v=e.h,h("prepare");var t=new Promise((function(e,t){f={resolve:e,reject:t}}));p={};return M(0),"prepare"===d&&0===g&&0===y&&L(),t}));var t}function M(e){x[e]?(w[e]=!0,y++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=C.p+""+e+"."+r+".hot-update.js",document.head.appendChild(t)}(e)):b[e]=!0}function L(){h("ready");var e=f;if(f=null,e)if(o)Promise.resolve().then((function(){return A(o)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&t.push(k(n));e.resolve(t)}}function A(t){if("ready"!==d)throw new Error("apply() is only allowed in ready status");return function t(o){var a,c,l,u,d;function f(e){for(var t=[e],n={},o=t.map((function(e){return{chain:[e],id:e}}));o.length>0;){var r=o.pop(),i=r.id,s=r.chain;if((u=P[i])&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(u.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<u.parents.length;a++){var c=u.parents[a],l=P[c];if(l){if(l.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(l.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),y(n[c],[i])):(delete n[c],t.push(c),o.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}E();var g={},b=[],w={},N=function(){console.warn("[HMR] unexpected require("+L.moduleId+") to disposed module")};for(var M in p)if(Object.prototype.hasOwnProperty.call(p,M)){var L;d=k(M),L=p[M]?f(d):{type:"disposed",moduleId:M};var A=!1,j=!1,_=!1,D="";switch(L.chain&&(D="\nUpdate propagation: "+L.chain.join(" -> ")),L.type){case"self-declined":o.onDeclined&&o.onDeclined(L),o.ignoreDeclined||(A=new Error("Aborted because of self decline: "+L.moduleId+D));break;case"declined":o.onDeclined&&o.onDeclined(L),o.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+L.moduleId+" in "+L.parentId+D));break;case"unaccepted":o.onUnaccepted&&o.onUnaccepted(L),o.ignoreUnaccepted||(A=new Error("Aborted because "+d+" is not accepted"+D));break;case"accepted":o.onAccepted&&o.onAccepted(L),j=!0;break;case"disposed":o.onDisposed&&o.onDisposed(L),_=!0;break;default:throw new Error("Unexception type "+L.type)}if(A)return h("abort"),Promise.reject(A);if(j)for(d in w[d]=p[d],y(b,L.outdatedModules),L.outdatedDependencies)Object.prototype.hasOwnProperty.call(L.outdatedDependencies,d)&&(g[d]||(g[d]=[]),y(g[d],L.outdatedDependencies[d]));_&&(y(b,[L.moduleId]),w[d]=N)}var S,R=[];for(c=0;c<b.length;c++)d=b[c],P[d]&&P[d].hot._selfAccepted&&w[d]!==N&&!P[d].hot._selfInvalidated&&R.push({module:d,parents:P[d].parents.slice(),errorHandler:P[d].hot._selfAccepted});h("dispose"),Object.keys(x).forEach((function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)}));var O,I,T=b.slice();for(;T.length>0;)if(d=T.pop(),u=P[d]){var z={},F=u.hot._disposeHandlers;for(l=0;l<F.length;l++)(a=F[l])(z);for(i[d]=z,u.hot.active=!1,delete P[d],delete g[d],l=0;l<u.children.length;l++){var H=P[u.children[l]];H&&((S=H.parents.indexOf(d))>=0&&H.parents.splice(S,1))}}for(d in g)if(Object.prototype.hasOwnProperty.call(g,d)&&(u=P[d]))for(I=g[d],l=0;l<I.length;l++)O=I[l],(S=u.children.indexOf(O))>=0&&u.children.splice(S,1);h("apply"),void 0!==v&&(r=v,v=void 0);for(d in p=void 0,w)Object.prototype.hasOwnProperty.call(w,d)&&(e[d]=w[d]);var U=null;for(d in g)if(Object.prototype.hasOwnProperty.call(g,d)&&(u=P[d])){I=g[d];var V=[];for(c=0;c<I.length;c++)if(O=I[c],a=u.hot._acceptedDependencies[O]){if(-1!==V.indexOf(a))continue;V.push(a)}for(c=0;c<V.length;c++){a=V[c];try{a(I)}catch(e){o.onErrored&&o.onErrored({type:"accept-errored",moduleId:d,dependencyId:I[c],error:e}),o.ignoreErrored||U||(U=e)}}}for(c=0;c<R.length;c++){var G=R[c];d=G.module,s=G.parents,n=d;try{C(d)}catch(e){if("function"==typeof G.errorHandler)try{G.errorHandler(e)}catch(t){o.onErrored&&o.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),o.ignoreErrored||U||(U=t),U||(U=e)}else o.onErrored&&o.onErrored({type:"self-accept-errored",moduleId:d,error:e}),o.ignoreErrored||U||(U=e)}}if(U)return h("fail"),Promise.reject(U);if(m)return t(o).then((function(e){return b.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return h("idle"),new Promise((function(e){e(b)}))}(t=t||{})}function E(){if(m)return p||(p={}),m.forEach(j),m=void 0,!0}function j(t){Object.prototype.hasOwnProperty.call(p,t)||(p[t]=e[t])}var P={};function C(t){if(P[t])return P[t].exports;var n=P[t]={i:t,l:!1,exports:{},hot:l(t),parents:(a=s,s=[],a),children:[]};return e[t].call(n.exports,n,n.exports,c(t)),n.l=!0,n.exports}return C.m=e,C.c=P,C.d=function(e,t,n){C.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},C.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},C.t=function(e,t){if(1&t&&(e=C(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(C.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)C.d(n,o,function(t){return e[t]}.bind(null,o));return n},C.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return C.d(t,"a",t),t},C.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},C.p="",C.h=function(){return r},c("./src/index.js")(C.s="./src/index.js")}({"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":function(e,t){function n(e,t,n,o,r,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,r)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise((function(r,i){var s=e.apply(t,o);function a(e){n(s,r,i,a,c,"next",e)}function c(e){n(s,r,i,a,c,"throw",e)}a(void 0)}))}}},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/@babel/runtime/helpers/createClass.js":function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,n){var o=n("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),r=n("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),i=n("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),s=n("./node_modules/@babel/runtime/helpers/nonIterableRest.js");e.exports=function(e,t){return o(e)||r(e,t)||i(e,t)||s()}},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(e,t,n){var o=n("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},"./node_modules/@babel/runtime/regenerator/index.js":function(e,t,n){e.exports=n("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/regenerator-runtime/runtime.js":function(e,t,n){var o=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function a(e,t,n,o){var r=t&&t.prototype instanceof u?t:u,i=Object.create(r.prototype),s=new k(o||[]);return i._invoke=function(e,t,n){var o="suspendedStart";return function(r,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw i;return M()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=b(s,n);if(a){if(a===l)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var u=c(e,t,n);if("normal"===u.type){if(o=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o="completed",n.method="throw",n.arg=u.arg)}}}(e,n,s),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var l={};function u(){}function d(){}function h(){}var f={};f[r]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(N([])));v&&v!==t&&n.call(v,r)&&(f=v);var m=h.prototype=u.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function g(e,t){var o;this._invoke=function(r,i){function s(){return new t((function(o,s){!function o(r,i,s,a){var l=c(e[r],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,a)}),(function(e){o("throw",e,s,a)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return o("throw",e,s,a)}))}a(l.arg)}(r,i,o,s)}))}return o=o?o.then(s,s):s()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var o=c(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,l;var r=o.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function N(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:void 0,done:!0}}return d.prototype=m.constructor=h,h.constructor=d,h[s]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(g.prototype),g.prototype[i]=function(){return this},e.AsyncIterator=g,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new g(a(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(m),m[s]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}},"./src/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var o=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r=n.n(o),i=n("./node_modules/@babel/runtime/regenerator/index.js"),s=n.n(i),a=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),c=n.n(a),l=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),u=n.n(l),d=n("./node_modules/@babel/runtime/helpers/createClass.js"),h=n.n(d),f=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u()(this,e),this.map=n,this.event=n.event;var r=o.nodeColor,i=o.focusNodeColor,s=o.selectNodeColor;this.options={nodeColor:r,focusNodeColor:i,selectNodeColor:s},this.marker=t,this.id=t.id,this.dragging=!1,this.nextPoint=new Set,this.initEvent(),this.defineProperty("alive",!0),this.defineProperty("focus",!1),this.defineProperty("selected",!1)}return h()(e,[{key:"defineProperty",value:function(e,t){var n=t,o=this;Object.defineProperty(o,e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,o.onPropChange(e,t))}}),o[e]=t}},{key:"onPropChange",value:function(e,t){switch(e){case"focus":this.marker.setColor(t?this.options.focusNodeColor:this.selected?this.options.selectNodeColor:this.options.nodeColor);break;case"selected":this.marker.setColor(t?this.options.selectNodeColor:this.focus?this.options.focusNodeColor:this.options.nodeColor)}}},{key:"initEvent",value:function(){this.handleMouseDown=this.mouseDown.bind(this),this.handleMouseMove=this.drag.bind(this),this.handleMouseUp=this.stopDrag.bind(this),this.marker.addEventListener("mouseDown",this.handleMouseDown)}},{key:"addNextPoint",value:function(e){this.nextPoint.has(e)||this.nextPoint.add(e)}},{key:"hasNextPoint",value:function(e){return this.nextPoint.has(e)}},{key:"removeNextPoint",value:function(e){this.nextPoint.delete(e)}},{key:"mouseDown",value:function(){this.dragging=!0,this.map.enableRotate(!1),this.event.on("mouseMove",this.handleMouseMove),document.body.addEventListener("mouseup",this.handleMouseUp,!1)}},{key:"stopDrag",value:function(){this.event.off("mouseMove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp,!1),this.dragging=!1,this.map.enableRotate(!0)}},{key:"drag",value:function(e){this.dragging&&(this.marker.position.x=e.position.x,this.marker.position.z=e.position.z)}},{key:"remove",value:function(){this.alive&&(this.stopDrag(),this.marker.removeEventListener("mouseDown",this.handleMouseDown),this.nextPoint.clear(),this.marker.remove(),this.marker=null,this.alive=!1)}}]),e}(),p=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u()(this,e),this.map=n,this.event=n.event;var r=o.lineColor,i=o.focusLineColor,s=o.selectLineColor;this.options={lineColor:r,focusLineColor:i,selectLineColor:s},this.line=t,this.id=t.info.lineId,this.defineProperty("alive",!0),this.defineProperty("endNodeId",null),this.defineProperty("focus",!1),this.defineProperty("selected",!1)}return h()(e,[{key:"defineProperty",value:function(e,t){var n=t,o=this;Object.defineProperty(o,e,{get:function(){var r=o.onGetProp(e);return void 0!==r?r:void 0!==n?n:t},set:function(t){n!==t&&(n=t,o.onPropChange(e,t))}}),o[e]=t}},{key:"onGetProp",value:function(e){switch(e){case"endNodeId":return this.getEndNodeId()}}},{key:"onPropChange",value:function(e,t){switch(e){case"focus":this.line.material.color.set(t?this.options.focusLineColor:this.selected?this.options.selectLineColor:this.options.lineColor);break;case"selected":this.line.material.color.set(t?this.options.selectLineColor:this.focus?this.options.focusLineColor:this.options.lineColor)}}},{key:"getEndNodeId",value:function(){return this.id.split("-").map((function(e){return Number(e)}))}},{key:"remove",value:function(){this.alive&&(this.line.remove(),this.line=null,this.alive=!1)}}]),e}();function v(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var y={nodeImg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAG1BMVEVHcEz////////9/f3///////////////////9AtcMpAAAACHRSTlMA/OM4pb+XlR9qs2sAAABpSURBVAgdLc4hDsNQDANQs4/9/yqFfjY6aaC02gnKBneEXiFSQY49u6pR9JTIAfCe/QOlFRmHhi+juAhYph9W0uPAFlWVPDENlR0GhbhAhKdulI7NK5UPvCItAy1NVMduUAVaSFx6v/EHSCUd+cdDp7wAAAAASUVORK5CYII=",nodeSize:1,lineWidth:4,height:2,nodeColor:"#F00",focusNodeColor:"#36F",selectNodeColor:"#33F",lineColor:"#F00",focusLineColor:"#36F",selectLineColor:"#33F",selectLineMaxDistance:5,mergeNodeMaxDistance:.1,shortcut:{draw:"q",alter:"w",undo:"z",merge:"m",delete:"x"},grid:{size:100,divisions:20},onReady:function(){}};var g=0,b=1,w=function(){function e(t){if(u()(this,e),!t.container)return alert("传入的dom容器无效!");this.options=Object.assign(y,t),this.createMap(t.container),this.enable=!1,this.state={mode:g},this.nodes=new Map,this.lines=new Map,this.currentNode=null,this.focusNode=null,this.focusLine=null,this.selectNode=null,this.selectLine=null,this.selectNodes=new Set,this.selectLines=new Set,this.handleRoutekeyDown=this.onkeydown.bind(this)}var t,n,o;return h()(e,[{key:"createMap",value:function(){var e,t=this,n=new AirocovMap.Map({container:t.options.container,mapJson:(e=t.options.grid.size/2,{id:1,name:"1",height:0,extremums:{x:[-++e,e],y:[-e,e],extremum:2*e},defaultFloorIndex:0,floors:[{name:"floor",extremums:{x:[-e,e],y:[-e,e],extremum:2*e},height:0,floor:{floor:[{properties:{opacity:.5},type:{drawType:"room",name:"floor",sType:0},center:[0,0],line:[[-e,-e],[e,-e],[e,e],[-e,e]]}]}}],center:[0,0],iv:[0,0]}),opacity:.6,showViewMode:"2D",zoom:.6,showAllFloor:!1,bgColor:"#C3DFFD",throttle:{mouseMove:10},onReady:function(){t.map=n,new AirocovMap.controls.MapScale(n),n.render.scene.add(new AirocovMap.THREE.GridHelper(t.options.grid.size,t.options.grid.divisions)),t.options.onReady(),new AirocovMap.covers.TextMarker({text:"x: "+t.options.grid.size/2,size:1,position:{x:t.options.grid.size/2,y:t.options.height+.2,z:0},callback:function(e){n.addToMap({object:e,floorName:"floor",layerName:"text"})}}),new AirocovMap.covers.TextMarker({text:"y: "+t.options.grid.size/2,size:1,position:{x:0,y:t.options.height+.2,z:t.options.grid.size/2},callback:function(e){n.addToMap({object:e,floorName:"floor",layerName:"text"})}})}})}},{key:"startRoute",value:function(){this.initMode=this.map.getConfig("showViewMode"),this.map.changeMode("2D"),this.initEvent(),document.body.addEventListener("keydown",this.handleRoutekeyDown,!1),this.enable=!0,this.options.onStart&&"function"==typeof this.options.onStart&&this.options.onStart()}},{key:"initEvent",value:function(){this.state.mode===g?(this.handleRouteClick=this.handleDrawClick.bind(this),this.handleRouteMouseMove=this.handleDrawMouseMove.bind(this),this.map.event.on("click",this.handleRouteClick)):this.state.mode===b&&(this.handleRouteMouseDown=this.handleAlterMouseDown.bind(this),this.handleRouteMouseMove=this.handleAlterMouseMove.bind(this),this.handleRouteMouseUp=this.handleAlterMouseUp.bind(this),this.map.event.on("mouseDown",this.handleRouteMouseDown),this.map.event.on("mouseUp",this.handleRouteMouseUp)),this.map.event.on("mouseMove",this.handleRouteMouseMove)}},{key:"removeEvent",value:function(){this.map.event.off("click",this.handleRouteClick),this.map.event.off("mouseDown",this.handleRouteMouseDown),this.map.event.off("mouseMove",this.handleRouteMouseMove),this.map.event.off("mouseUp",this.handleRouteMouseUp)}},{key:"setMode",value:function(e){e!==this.state.mode&&(this.state.mode=e,this.removeEvent(),e===b&&this.removeTempLine(),this.initEvent(),this.currentNode=null,console.log("进入"+(e?"修改":"绘制")+"模式"))}},{key:"onkeydown",value:function(e){var t=this.options.shortcut;switch(e.key.toLowerCase()){case t.delete:this.removeSelected();break;case t.draw:this.setMode(g);break;case t.alter:this.setMode(b);break;case t.undo:window.event.ctrlKey||this.removeLastNode();break;case t.merge:this.mergeNodes()}}},{key:"handleDrawClick",value:(o=c()(s.a.mark((function e(t){var n,o,r,i,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.target),this.removeTempLine(),"rNode"!==t.target.name){e.next=15;break}if(n=this.nodes.get(t.target.id),!this.currentNode){e.next=13;break}if(this.currentNode.id!==n.id){e.next=10;break}return this.currentNode=null,e.abrupt("return");case 10:if(!this.currentNode.nextPoint.has(n.id)){e.next=13;break}return this.currentNode=n,e.abrupt("return");case 13:e.next=27;break;case 15:return o=this.pickLine(t.worldPosition),r=o.lineId,i=o.position,r||(i=t.position),e.next=19,this.createNodeMarker(i);case 19:if(a=e.sent,n=new f(a,this.map,this.options),this.nodes.set(n.id,n),!r){e.next=27;break}if(this.insertNode(r,n),!this.currentNode||!r.split("-").includes(this.currentNode.id+"")){e.next=27;break}return this.currentNode=n,e.abrupt("return");case 27:this.currentNode&&this.createLine(this.currentNode,n),this.currentNode=n;case 29:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"handleDrawMouseMove",value:function(e){this.commonMouseMove(e),this.focusNode&&(this.focusNode.dragging=!1),this.currentNode&&(this.removeTempLine(),this.drawLine({points:[[this.currentNode.marker.position.x,this.currentNode.marker.position.z],[e.position.x,e.position.z]],layerName:"rLineTemp",dashed:!0}))}},{key:"commonMouseMove",value:function(e){if(this.removeFocusNode(),this.removeFocusLine(),"rNode"===e.target.name)this.addFocusNode(e.target.id);else{var t=this.pickLine(e.worldPosition).lineId;t&&this.addFocusLine(t)}}},{key:"handleAlterMouseDown",value:function(e){if(0===window.event.button)if(window.event.ctrlKey||(this.removeSelectNodes(),this.removeSelectLines()),"rNode"===e.target.name)this.addSelectNode(e.target.id);else{var t=this.pickLine(e.worldPosition).lineId;t&&this.addSelectLine(t)}}},{key:"handleAlterMouseMove",value:function(e){this.commonMouseMove(e),this.selectNode&&this.selectNode.dragging&&this.moveNode(this.selectNode)}},{key:"handleAlterMouseUp",value:function(){this.selectNode=null,this.selectLine=null}},{key:"addFocusNode",value:function(e){this.focusNode=this.nodes.get(e),this.focusNode.focus=!0}},{key:"addFocusLine",value:function(e){this.focusLine=this.lines.get(e),this.focusLine.focus=!0}},{key:"addSelectNode",value:function(e){this.selectNode=this.nodes.get(e),this.selectNodes.has(this.selectNode)?(this.selectNode.selected=!1,this.selectNodes.delete(this.selectNode),this.selectNode=null):(this.selectNode.selected=!0,this.selectNodes.add(this.selectNode))}},{key:"addSelectLine",value:function(e){this.selectLine=this.lines.get(e),this.selectLines.has(this.selectLine)?(this.selectLine.selected=!1,this.selectLines.delete(this.selectLine),this.selectLine=null):(this.selectLine.selected=!0,this.selectLines.add(this.selectLine))}},{key:"removeFocusNode",value:function(){this.focusNode&&(this.focusNode.focus=!1,this.focusNode=null)}},{key:"removeFocusLine",value:function(){this.focusLine&&(this.focusLine.focus=!1,this.focusLine=null)}},{key:"removeSelectNode",value:function(){this.selectNode&&(this.selectNode.selected=!1,this.selectNode=null)}},{key:"removeSelectLine",value:function(){this.selectLine&&(this.selectLine.selected=!1,this.selectLine=null)}},{key:"removeSelectNodes",value:function(){var e,t=v(this.selectNodes);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.selected=!1,this.selectNodes.delete(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"removeSelectLines",value:function(){var e,t=v(this.selectLines);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.selected=!1,this.selectLines.delete(n)}}catch(e){t.e(e)}finally{t.f()}}},{key:"removeSelected",value:function(){var e,t=v(this.selectNodes);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.removeNode(n)}}catch(e){t.e(e)}finally{t.f()}var o,r=v(this.selectLines);try{for(r.s();!(o=r.n()).done;){var i=o.value;this.removeLine(i.id)}}catch(e){r.e(e)}finally{r.f()}}},{key:"clearRoute",value:function(){if(this.enable){this.removeEvent(),document.body.removeEventListener("keydown",this.handleRoutekeyDown,!1);var e,t=v(this.lines);try{for(t.s();!(e=t.n()).done;){var n=r()(e.value,1)[0];this.removeLine(n)}}catch(e){t.e(e)}finally{t.f()}this.currentNode=null,this.focusLine=null,this.focusNode=null,this.selectLine=null,this.selectNode=null,this.selectNodes.clear(),this.selectLines.clear(),this.map.clearCustomLayers(["rNode","rLine","rLineTemp"]),this.enable=!1,this.map.changeMode(this.initMode),this.options.onClose&&"function"==typeof this.options.onClose&&this.options.onClose()}}},{key:"insertNode",value:function(e,t){var n=e.split("-"),o=r()(n,2),i=o[0],s=o[1],a=this.nodes.get(Number(i)),c=this.nodes.get(Number(s));this.createLine(a,t),this.createLine(c,t),this.removeLine(e)}},{key:"moveNode",value:function(e){var t,n=v(e.nextPoint);try{for(n.s();!(t=n.n()).done;){var o=t.value,r=this.lines.get(this.getLineId(e.id,o)),i=this.nodes.get(o);r.line.update({points:[[e.marker.position.x,e.marker.position.z],[i.marker.position.x,i.marker.position.z]]})}}catch(e){n.e(e)}finally{n.f()}}},{key:"removeNode",value:function(e,t){if(e){if(!t){var n,o=v(e.nextPoint);try{for(o.s();!(n=o.n()).done;){var r=n.value,i=this.getLineId(e.id,r);this.removeLine(i)}}catch(e){o.e(e)}finally{o.f()}}this.currentNode&&e.id===this.currentNode.id&&(this.removeTempLine(),this.currentNode=null),this.removeFocusNode(),this.selectNodes.delete(e),this.nodes.delete(e.id),e.remove()}}},{key:"removeLastNode",value:function(){var e=Array.from(this.nodes).pop();e&&this.removeNode(e[1])}},{key:"mergeNodes",value:function(){if(this.selectNodes.size<2)return console.log("合并结点需要选择两个以上结点!");var e,t=Array.from(this.selectNodes)[0],n=v(this.selectNodes);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o!==t&&AirocovMap.helper.getDistance3d(t.marker.position,o.marker.position)<this.options.mergeNodeMaxDistance){var r,i=v(o.nextPoint);try{for(i.s();!(r=i.n()).done;){var s=r.value;this.createLine(t,this.nodes.get(s))}}catch(e){i.e(e)}finally{i.f()}this.removeNode(o)}}}catch(e){n.e(e)}finally{n.f()}console.log("合并结点")}},{key:"devideNodes",value:function(e){}},{key:"createLine",value:function(e,t){if(e&&t&&e.id!==t.id){var n=this.getLineId(e.id,t.id);if(!this.lines.has(n)){var o=this.drawLine({points:[[e.marker.position.x,e.marker.position.z],[t.marker.position.x,t.marker.position.z]],lineId:n});this.lines.set(n,new p(o,this.map,this.options)),e.addNextPoint(t.id),t.addNextPoint(e.id)}}}},{key:"removeLine",value:function(e,t){if(e){var n=this.lines.get(e);if(n){var o=r()(n.endNodeId,2),i=o[0],s=o[1],a=this.nodes.get(i),c=this.nodes.get(s);a&&a.removeNextPoint(s),c&&c.removeNextPoint(i),t||!a||a.nextPoint.size||this.removeNode(a),t||!c||c.nextPoint.size||this.removeNode(c),this.removeFocusLine(),this.selectLines.delete(n),this.lines.delete(e),n.remove()}}}},{key:"removeTempLine",value:function(){this.currentNode&&this.map.currentFloor.clearLayer("rLineTemp")}},{key:"getLineId",value:function(e,t){return e<t?e+"-"+t:t+"-"+e}},{key:"pickLine",value:function(e){var t,n,o,i,s,a,c,l,u,d,h={},f=AirocovMap.coorTransform.screenCoordinates(e,this.map.render),p=new AirocovMap.THREE.Vector2,m=new AirocovMap.THREE.Vector2,y=new AirocovMap.THREE.Vector2,g=new AirocovMap.THREE.Vector2,b=1/0,w=this.map.currentFloor.info.center,x=v(this.lines);try{for(x.s();!(d=x.n()).done;){var k=r()(d.value,2),N=k[0],M=k[1],L=(new AirocovMap.THREE.Vector3).copy(M.line.info.points[0]),A=(new AirocovMap.THREE.Vector3).copy(M.line.info.points[1]);L.x+=w[0],L.z+=w[1],A.x+=w[0],A.z+=w[1],s=AirocovMap.coorTransform.screenCoordinates(L,this.map.render),a=AirocovMap.coorTransform.screenCoordinates(A,this.map.render),p.set(a.x-s.x,a.y-s.y),m.set(f.x-s.x,f.y-s.y),y.set(f.x-a.x,f.y-a.y),g.set(-p.x,-p.y),c=AirocovMap.helper.getRotateAngle(p,m),l=AirocovMap.helper.getRotateAngle(y,g),Math.cos(c)*Math.cos(l)<0||(u=Math.abs(m.length()*Math.sin(c)))<this.options.selectLineMaxDistance&&u<b&&(t=N,b=u,n=s,o=(new AirocovMap.THREE.Vector2).copy(p),i=(new AirocovMap.THREE.Vector2).copy(m))}}catch(e){x.e(e)}finally{x.f()}if(t){var E=(new AirocovMap.THREE.Vector2).copy(i),j=(new AirocovMap.THREE.Vector2).copy(o);E=(new AirocovMap.THREE.Vector2).copy(j).multiplyScalar(E.dot(j)/j.length()/j.length()),(h=AirocovMap.coorTransform.screen2position([E.x+n.x,E.y+n.y],this.map)).x-=w[0],h.z-=w[1]}return{lineId:t,position:h}}},{key:"getConnectedData",value:function(){var e=this;if(!this.lines.size)return console.log("没有绘制路径");var t,n=[],o=v(this.nodes);try{var i=function(){var o=r()(t.value,2),i=o[0],s=o[1];if(n.findIndex((function(e){return e.has(i)}))<0&&(!n.length||n[n.length-1].size)){var a=new Set;n.push(a),e.getRouteSet(a,s)}};for(o.s();!(t=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}return console.log({connectedData:n}),0===n.length?console.log("没有绘制路径"):(n.length>1&&console.log("路径不是连通路径"),n)}},{key:"getRouteSet",value:function(e,t){var n=this;e.add(t.id),t.nextPoint.forEach((function(t){if(!e.has(t))return e.add(t),n.getRouteSet.call(n,e,n.nodes.get(t))}))}},{key:"getRoute",value:function(e){var t=this,n=new Map;e.forEach((function(e){Array.from(e).forEach((function(e,t){n.set(e,t)}))}));var o=[];return e.forEach((function(e,r){o[r]=[];var i,s=v(e);try{for(s.s();!(i=s.n()).done;){var a=i.value,c=t.nodes.get(a),l=c.marker.position;o[r].push({coor:[Number(l.x.toFixed(2)),Number(l.z.toFixed(2))],nextPoint:Array.from(c.nextPoint).map((function(e){return n.get(e)}))})}}catch(e){s.e(e)}finally{s.f()}})),o}},{key:"exportRoute",value:function(){var e=this.getConnectedData();if(e)return this.getRoute(e)}},{key:"createNodeMarker",value:(n=c()(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){new AirocovMap.covers.ImageMarker({imgSrc:n.options.nodeImg,name:"rNode",size:n.options.nodeSize,position:{x:t.x,y:n.options.height,z:t.z},callback:function(t){t.setColor(n.options.nodeColor),n.map.addToMap({object:t,buildingName:n.map.currentBuilding?n.map.currentBuilding.name:null,floorName:n.map.currentFloor.name,layerName:"rNode",isClick:!0}),e(t)}})})).then((function(e){return e})).catch((function(e){console.error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"drawLine",value:function(e){var t=e.points,n=e.lineId,o=e.layerName,r=void 0===o?"rLine":o,i=e.width,s=void 0===i?this.options.lineWidth:i,a=e.dashed,c=void 0!==a&&a,l=e.color,u=void 0===l?this.options.lineColor:l,d=this.map.render.camera.object.zoom,h=AirocovMap.covers.paths.drawLine({points:t,height:this.options.height,tension:.01,linewidth:s,color:u,dashed:c,dashSize:10/d,gapSize:5/d,dom:this.map.dom});return h&&(this.map.addToMap({object:h,buildingName:this.map.currentBuilding?this.map.currentBuilding.name:null,floorName:this.map.currentFloor.name,layerName:r}),h.info.lineId=n),h}},{key:"createRandomRoute",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:70,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80,o=[],r=[],i=0;i<e;i++)o.push(i/e*Math.PI*2);for(var s=0;s<e;s++){var a=Math.cos(o[s])*(Math.random()*(n-t)+t),c=Math.sin(o[s])*(Math.random()*(n-t)+t);r.push({coor:[a,c],nextPoint:[]})}for(var l=0;l<r.length;l++)for(var u=0,d=void 0;r[l].nextPoint.length<Math.floor(3*Math.random()+2)&&u<10;){var h=Math.floor(Math.random()*e);h!==l&&r[h].nextPoint.length<3&&(r[l].nextPoint.push(h),r[h].nextPoint.push(h),d=!0),++u>=10&&!d&&(u=0)}return console.log(r),r}},{key:"getChildFromArray",value:function(e,t){for(var n=new Array(e).fill().map((function(e,t){return t})),o=e,r=o-t;o>r;){var i=parseInt(Math.random()*o),s=[n[i],n[o-1]];n[o-1]=s[0],n[i]=s[1],o--}return n.slice(r)}},{key:"fromJSON",value:(t=c()(s.a.mark((function e(t){var n,o,r,i,a,c=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:n=v(t),e.prev=3,n.s();case 5:if((o=n.n()).done){e.next=15;break}return r=o.value,e.next=9,this.createNodeMarker({x:r.coor[0],z:r.coor[1]});case 9:i=e.sent,a=new f(i,this.map,this.options),this.nodes.set(a.id,a),r.id=a.id;case 13:e.next=5;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:t.forEach((function(e){e.nextPoint.forEach((function(n){c.createLine(c.nodes.get(e.id),c.nodes.get(t[n].id))}))}));case 24:case"end":return e.stop()}}),e,this,[[3,17,20,23]])}))),function(e){return t.apply(this,arguments)})}]),e}()}}).default}));